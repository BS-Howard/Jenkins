@Library('jenkins-shared-library') _

// 所有 .NET 專案都可以使用相同的建置流程
buildDotNet(
    solutionPath: 'JenkinsDemo/JenkinsDemo.sln',
    projectPath: 'JenkinsDemo/JenkinsDemo/JenkinsDemo.csproj',
    buildConfig: 'Release',
    skipTests: false,
    timeout: 10
)

// 使用共享函式庫進行 Docker 部署
deployDocker(
    imageName: 'jenkins-demo',
    containerName: 'jenkins-demo',
    port: 8081,
    deployScript: 'scripts/deploy.sh',
    healthCheckScript: 'scripts/health-check.sh',
    cleanupScript: 'scripts/cleanup.sh'
) 